(this["webpackJsonpmaterial-todo"]=this["webpackJsonpmaterial-todo"]||[]).push([[0],{106:function(e,t,n){"use strict";n.r(t);var i=n(21),c=n(7),a=n(11),o=n.n(a),r=n(28),l=n(24),d=n(158),s=n(31),j=n.n(s),u=n(59),b=n(72),O=n.n(b),m=n(73),p=n(74),h=n(81),v=n(33),f=n(43),I=function(e){return Object(f.pick)(e,["description","title"])},E=["id"],C={add:Object(v.createAction)("ITEM/ADD",(function(e,t){return t?{title:e,description:t}:{title:e}}))(),toggle:Object(v.createAction)("ITEM/TOGGLE")(),remove:Object(v.createAction)("ITEM/REMOVE")(),clear:Object(v.createAction)("ITEM/CLEAR")(),edit:Object(v.createAction)("ITEM/EDIT",(function(e,t,n){return n?{id:e,title:t,description:n}:{id:e,title:t}}))()},x=Object(v.createReducer)({items:{}},{"ITEM/ADD":function(e,t){var n=t.payload,a="item_"+j.a.slug();return Object(c.a)(Object(c.a)({},e),{},{items:Object(c.a)(Object(c.a)({},e.items),{},Object(i.a)({},a,Object(c.a)(Object(c.a)({id:a},I(n)),{},{done:!1})))})},"ITEM/EDIT":function(e,t){var n=t.payload,a=n.id,o=Object(h.a)(n,E);return Object(c.a)(Object(c.a)({},e),{},{items:Object(c.a)(Object(c.a)({},e.items),{},Object(i.a)({},a,Object(c.a)(Object(c.a)({},e.items[a]),I(o))))})},"ITEM/TOGGLE":function(e,t){var n=t.payload;return Object(c.a)(Object(c.a)({},e),{},{items:Object(c.a)(Object(c.a)({},e.items),{},Object(i.a)({},n,Object(c.a)(Object(c.a)({},e.items[n]),{},{done:!e.items[n].done})))})},"ITEM/REMOVE":function(e,t){var n=t.payload;return Object(c.a)(Object(c.a)({},e),{},{items:Object(f.omit)(e.items,n)})},"ITEM/CLEAR":function(e){return Object(c.a)(Object(c.a)({},e),{},{items:Object(f.omitBy)(e.items,(function(e){return e.done}))})}}),y=function(e){return Object.keys(e.items)},g=function(e){return new Set(Object.values(e.items).filter((function(e){return e.done})).map((function(e){return e.id})))},A=function(e,t){var n=t.id;return e.items[n]},T=function(e,t){var n=t.id;return!!n&&e.items[n].done},k=n(0),D=n.n(k),M=n(147),w=n(157),N=n(56),S=n(46),R=n(47),_=n(55),B=n(54),W=n(145),G=n(155),K=n(156),L=n(107),z=n(148),V=n(160),F=n(150),q=n(151),J=n(138),U=n(152),P=n(142),H=n.n(P),Q=n(149),X=n.n(Q),Y=n(159),Z=n(161),$=n(146),ee=n(162),te=n(4),ne=n(5),ie=Object(ee.a)({form:{display:"flex",flexDirection:"column",width:"100%"},buttons:{display:"flex",justifyContent:"flex-end"}}),ce=function(e){Object(_.a)(n,e);var t=Object(B.a)(n);function n(){var e;Object(S.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={title:e.props.initialTitle,description:e.props.initialDescription},e.handleInputChange=function(t){var n=t.target,a=n.name,o=n.value;e.setState((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(i.a)({},a,o))}))},e.handleApplyClick=function(){var t=e.state,n=t.title,i=t.description;e.props.onApply(n,i)},e.handleKeyDown=function(t){"Enter"===t.key?e.handleApplyClick():"Escape"===t.key&&e.props.onCancel()},e}return Object(R.a)(n,[{key:"render",value:function(){var e=this.state,t=e.title,n=e.description,i=this.props,c=i.classes,a=i.onCancel,o=Object(ne.jsx)(J.a,{color:"primary",onClick:this.handleApplyClick,disabled:!t,children:Object(ne.jsx)(H.a,{})});return Object(ne.jsxs)("div",{className:c.form,children:[Object(ne.jsx)(Y.a,{name:"title",label:"Title",multiline:!0,autoFocus:!0,error:!t,value:t,onKeyDown:this.handleKeyDown,onChange:this.handleInputChange}),Object(ne.jsx)(Y.a,{name:"description",label:"Description",multiline:!0,value:n,onKeyDown:this.handleKeyDown,onChange:this.handleInputChange}),Object(ne.jsxs)("div",{className:c.buttons,children:[Object(ne.jsx)(Z.a,{title:"Item title cannot be empty",open:!t,children:Object(ne.jsx)("span",{children:t?Object(ne.jsx)(Z.a,{title:"Enter",children:o}):o})}),Object(ne.jsx)(Z.a,{title:"Escape",placement:"right",children:Object(ne.jsx)(J.a,{color:"secondary",onClick:a,children:Object(ne.jsx)($.a,{})})})]})]})}}]),n}(k.Component),ae=Object(te.a)(ie)(ce),oe=A,re=C.toggle,le=Object(M.a)((function(e){return{itemTitle:function(e){return e.todo.done?{textDecoration:"line-through"}:{}}}})),de=Object(l.b)((function(e,t){return{todo:oe(e,t)}}),{toggle:re})((function(e){var t=e.id,n=e.selected,i=e.edited,c=e.disabled,a=e.onMoreClick,o=e.onEditorApply,r=e.onEditorCancel,l=e.todo,d=l.title,s=l.description,j=l.done,u=e.toggle,b=le(e);return Object(ne.jsxs)(L.a,{divider:!0,selected:n,disabled:c||j,children:[Object(ne.jsx)(z.a,{children:Object(ne.jsx)(V.a,{disabled:c||n,color:"default",disableRipple:!0,checkedIcon:Object(ne.jsx)(H.a,{}),icon:Object(ne.jsx)(X.a,{}),onChange:function(){u(t)},checked:j})}),i?Object(ne.jsx)(ae,{initialTitle:d,initialDescription:s,onApply:o,onCancel:r}):Object(ne.jsx)(F.a,{classes:{primary:b.itemTitle},primary:d,primaryTypographyProps:{noWrap:!1},secondary:s}),Object(ne.jsx)(q.a,{children:Object(ne.jsx)(J.a,{onClick:a,disabled:c||i,children:Object(ne.jsx)(U.a,{color:"action",fontSize:"inherit"})})})]})})),se=n(153),je=function(e){var t=e.editorOpened,n=e.disabled,i=e.onNewItemClick,c=e.onEditorApply,a=e.onEditorCancel,o=Object(ne.jsx)(z.a,{children:Object(ne.jsx)(V.a,{disabled:!0,color:"default",disableRipple:!0,icon:Object(ne.jsx)(se.a,{}),checked:!1})});return t?Object(ne.jsxs)(L.a,{divider:!0,children:[o,Object(ne.jsx)(ae,{initialTitle:"",onApply:c,onCancel:a})]}):Object(ne.jsx)(Z.a,{title:"Click to add new TODO item",interactive:!1,enterDelay:2e3,enterNextDelay:2e3,leaveDelay:250,children:Object(ne.jsx)(L.a,{button:!0,divider:!0,disabled:n,onClick:i,children:o})})},ue=n(80),be=n(154),Oe=T,me=Object(l.b)((function(e,t){var n=t.itemId;return{disabledEdit:Oe(e,{id:n})}}))((function(e){var t=e.itemId,n=e.anchorEl,i=e.disabledEdit,c=e.onClickEdit,a=e.onClickRemove,o=e.onClose;return Object(ne.jsxs)(ue.a,{id:"item-menu",anchorEl:n,open:Boolean(t&&n),onClose:o,children:[Object(ne.jsx)(be.a,{disabled:i,onClick:c,children:"Edit"}),Object(ne.jsx)(be.a,{onClick:a,children:"Remove"})]})})),pe=C.remove,he=C.edit,ve=C.add,fe=C.clear,Ie=y,Ee=g,Ce="NEW_ITEM",xe=function(e){Object(_.a)(n,e);var t=Object(B.a)(n);function n(){var e;Object(S.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={clearing:!1},e.clearing=void 0,e.resetActiveItem=function(){e.setState({menuAnchor:void 0,activeItemId:void 0,activeItemStatus:void 0,clearing:!1})},e.handleNewItemClick=function(){e.setState((function(e){return e.activeItemId?e:{activeItemId:Ce,activeItemStatus:"ADD",clearing:!1}}))},e.handleNewItemApply=function(t,n){(0,e.props.addTodo)(t,n),e.resetActiveItem()},e.handleNewItemCancel=function(){e.resetActiveItem()},e.handleEditorApply=function(t,n,i){(0,e.props.editTodo)(t,n,i),e.resetActiveItem()},e.handleEditorCancel=function(){e.resetActiveItem()},e.handleMoreClick=function(t,n){var i=n.currentTarget;e.setState((function(e){return Object(c.a)(Object(c.a)({},e),{},{menuAnchor:i,activeItemId:t,activeItemStatus:"MENU"})}))},e.handleClickEdit=function(){e.setState((function(e){return e.activeItemId?Object(c.a)(Object(c.a)({},e),{},{activeItemStatus:"EDIT"}):e}))},e.handleClickRemove=function(){e.setState((function(e){return e.activeItemId?Object(c.a)(Object(c.a)({},e),{},{activeItemStatus:"REMOVE_ANIMATION"}):e}))},e.handleClear=function(){e.setState((function(e){return Object(c.a)(Object(c.a)({},e),{},{clearing:!0})}))},e.handleMenuClose=function(){e.resetActiveItem()},e.handleRemoveAnimationDone=function(t){(0,e.props.removeTodo)(t),e.resetActiveItem()},e.handleClearingAnimation=function(t){var n=e.props,i=n.clearTodos,c=n.doneTodoIds;e.clearing||(e.clearing=new Set(c)),e.clearing.delete(t),0===e.clearing.size&&(e.clearing=void 0,i(),e.setState({clearing:!1}))},e}return Object(R.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.todoIds,i=t.doneTodoIds,a=this.state,o=a.activeItemStatus,r=a.activeItemId,l=a.menuAnchor,d=a.clearing,s=d?function(t){return{in:!(d&&i.has(t)),onExited:e.handleClearingAnimation.bind(null,t)}}:function(t){return{in:!(r===t&&"REMOVE_ANIMATION"===o),onExited:e.handleRemoveAnimationDone.bind(null,t)}};return Object(ne.jsxs)(ne.Fragment,{children:[Object(ne.jsxs)(W.a,{children:[n.map((function(t){return Object(ne.jsx)(G.a,Object(c.a)(Object(c.a)({enter:!1,appear:!1},s(t)),{},{children:Object(ne.jsx)(de,{disabled:d,selected:t===r,edited:t===r&&"EDIT"===o,id:t,onMoreClick:e.handleMoreClick.bind(null,t),onEditorApply:e.handleEditorApply.bind(null,t),onEditorCancel:e.handleEditorCancel})}),t)})),Object(ne.jsx)(je,{editorOpened:"NEW_ITEM"===r&&"ADD"===o,disabled:Boolean(d)||Boolean(r&&"NEW_ITEM"!==r),onNewItemClick:this.handleNewItemClick,onEditorApply:this.handleNewItemApply,onEditorCancel:this.handleNewItemCancel})]}),i.size>0&&Object(ne.jsx)(K.a,{size:"small",onClick:this.handleClear,children:"Clear done"}),Object(ne.jsx)(me,{itemId:"MENU"===o?r:void 0,anchorEl:l,onClickEdit:this.handleClickEdit,onClickRemove:this.handleClickRemove,onClose:this.handleMenuClose})]})}}]),n}(D.a.Component),ye=Object(l.b)((function(e){return{todoIds:Ie(e),doneTodoIds:Ee(e)}}),{removeTodo:pe,editTodo:he,addTodo:ve,clearTodos:fe})(xe),ge=Object(M.a)((function(e){return{container:{marginTop:e.spacing(4)}}})),Ae=function(){var e=ge();return Object(ne.jsxs)(w.a,{maxWidth:"md",className:e.container,children:[Object(ne.jsx)(N.a,{variant:"h4",component:"h1",align:"center",children:"TODO app"}),Object(ne.jsx)(ye,{})]})},Te={key:"root",storage:O.a},ke=Object(u.a)(Te,x),De=[{id:"item_"+Object(s.slug)(),title:"Go to doctor",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Et, pariatur, ullam.",done:!1},{id:"item_"+Object(s.slug)(),title:"Buy some food for breakfast",description:"Aliquid at ducimus ipsum quod totam ut vitae voluptatem.",done:!1},{id:"item_"+Object(s.slug)(),title:"Fix the car",description:"Accusamus autem deleniti dolore dolores, expedita illo inventore ipsam, ipsum libero maiores necessitatibus nesciunt non obcaecati optio provident reprehenderit vel, veniam voluptatem.",done:!1},{id:"item_"+Object(s.slug)(),title:"Clean the apartment",done:!1}],Me=Object(r.createStore)(ke,{items:De.reduce((function(e,t){return Object(c.a)(Object(c.a)({},e),{},Object(i.a)({},t.id,t))}),{})},Object(p.composeWithDevTools)()),we=Object(u.b)(Me);o.a.render(Object(ne.jsx)(l.a,{store:Me,children:Object(ne.jsxs)(m.a,{loading:null,persistor:we,children:[Object(ne.jsx)(d.a,{}),Object(ne.jsx)(Ae,{})]})}),document.getElementById("root"))}},[[106,1,2]]]);
//# sourceMappingURL=main.ad599ad9.chunk.js.map