(this["webpackJsonpmaterial-todo"]=this["webpackJsonpmaterial-todo"]||[]).push([[0],{104:function(e,t,n){"use strict";n.r(t);var i=n(21),c=n(7),a=n(11),o=n.n(a),r=n(28),l=n(24),d=n(156),s=n(31),u=n.n(s),j=n(58),b=n(70),O=n.n(b),m=n(71),p=n(72),h=n(79),v=n(33),f=function(e){return{description:e.description,title:e.title}},I=["id"],E={add:Object(v.createAction)("ITEM/ADD",(function(e,t){return t?{title:e,description:t}:{title:e}}))(),toggle:Object(v.createAction)("ITEM/TOGGLE")(),remove:Object(v.createAction)("ITEM/REMOVE")(),clear:Object(v.createAction)("ITEM/CLEAR")(),edit:Object(v.createAction)("ITEM/EDIT",(function(e,t,n){return n?{id:e,title:t,description:n}:{id:e,title:t}}))()},C=Object(v.createReducer)({items:{}},{"ITEM/ADD":function(e,t){var n=t.payload,a="item_"+u.a.slug();return Object(c.a)(Object(c.a)({},e),{},{items:Object(c.a)(Object(c.a)({},e.items),{},Object(i.a)({},a,Object(c.a)(Object(c.a)({id:a},f(n)),{},{done:!1})))})},"ITEM/EDIT":function(e,t){var n=t.payload,a=n.id,o=Object(h.a)(n,I);return Object(c.a)(Object(c.a)({},e),{},{items:Object(c.a)(Object(c.a)({},e.items),{},Object(i.a)({},a,Object(c.a)(Object(c.a)({},e.items[a]),f(o))))})},"ITEM/TOGGLE":function(e,t){var n=t.payload;return Object(c.a)(Object(c.a)({},e),{},{items:Object(c.a)(Object(c.a)({},e.items),{},Object(i.a)({},n,Object(c.a)(Object(c.a)({},e.items[n]),{},{done:!e.items[n].done})))})},"ITEM/REMOVE":function(e,t){var n=t.payload;return Object(c.a)(Object(c.a)({},e),{},{items:Object.values(e.items).reduce((function(e,t){return t.id!==n&&(e[t.id]=t),e}),{})})},"ITEM/CLEAR":function(e){return Object(c.a)(Object(c.a)({},e),{},{items:Object.values(e.items).reduce((function(e,t){return t.done||(e[t.id]=t),e}),{})})}}),x=function(e){return Object.keys(e.items)},y=function(e){return new Set(Object.values(e.items).filter((function(e){return e.done})).map((function(e){return e.id})))},g=function(e,t){var n=t.id;return e.items[n]},A=function(e,t){var n=t.id;return!!n&&e.items[n].done},T=n(0),k=n.n(T),D=n(145),M=n(155),w=n(55),N=n(45),S=n(46),R=n(54),_=n(53),W=n(143),B=n(153),G=n(154),K=n(105),L=n(146),z=n(158),V=n(148),F=n(149),q=n(136),J=n(150),U=n(140),P=n.n(U),H=n(147),Q=n.n(H),X=n(157),Y=n(159),Z=n(144),$=n(160),ee=n(4),te=n(5),ne=Object($.a)({form:{display:"flex",flexDirection:"column",width:"100%"},buttons:{display:"flex",justifyContent:"flex-end"}}),ie=function(e){Object(R.a)(n,e);var t=Object(_.a)(n);function n(){var e;Object(N.a)(this,n);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(e=t.call.apply(t,[this].concat(o))).state={title:e.props.initialTitle,description:e.props.initialDescription},e.handleInputChange=function(t){var n=t.target,a=n.name,o=n.value;e.setState((function(e){return Object(c.a)(Object(c.a)({},e),{},Object(i.a)({},a,o))}))},e.handleApplyClick=function(){var t=e.state,n=t.title,i=t.description;e.props.onApply(n,i)},e.handleKeyDown=function(t){"Enter"===t.key?e.handleApplyClick():"Escape"===t.key&&e.props.onCancel()},e}return Object(S.a)(n,[{key:"render",value:function(){var e=this.state,t=e.title,n=e.description,i=this.props,c=i.classes,a=i.onCancel,o=Object(te.jsx)(q.a,{color:"primary",onClick:this.handleApplyClick,disabled:!t,children:Object(te.jsx)(P.a,{})});return Object(te.jsxs)("div",{className:c.form,children:[Object(te.jsx)(X.a,{name:"title",label:"Title",multiline:!0,autoFocus:!0,error:!t,value:t,onKeyDown:this.handleKeyDown,onChange:this.handleInputChange}),Object(te.jsx)(X.a,{name:"description",label:"Description",multiline:!0,value:n,onKeyDown:this.handleKeyDown,onChange:this.handleInputChange}),Object(te.jsxs)("div",{className:c.buttons,children:[Object(te.jsx)(Y.a,{title:"Item title cannot be empty",open:!t,children:Object(te.jsx)("span",{children:t?Object(te.jsx)(Y.a,{title:"Enter",children:o}):o})}),Object(te.jsx)(Y.a,{title:"Escape",placement:"right",children:Object(te.jsx)(q.a,{color:"secondary",onClick:a,children:Object(te.jsx)(Z.a,{})})})]})]})}}]),n}(T.Component),ce=Object(ee.a)(ne)(ie),ae=g,oe=E.toggle,re=Object(D.a)((function(e){return{itemTitle:function(e){return e.todo.done?{textDecoration:"line-through"}:{}}}})),le=Object(l.b)((function(e,t){return{todo:ae(e,t)}}),{toggle:oe})((function(e){var t=e.id,n=e.selected,i=e.edited,c=e.disabled,a=e.onMoreClick,o=e.onEditorApply,r=e.onEditorCancel,l=e.todo,d=l.title,s=l.description,u=l.done,j=e.toggle,b=re(e);return Object(te.jsxs)(K.a,{divider:!0,selected:n,disabled:c||u,children:[Object(te.jsx)(L.a,{children:Object(te.jsx)(z.a,{disabled:c||n,color:"default",disableRipple:!0,checkedIcon:Object(te.jsx)(P.a,{}),icon:Object(te.jsx)(Q.a,{}),onChange:function(){j(t)},checked:u})}),i?Object(te.jsx)(ce,{initialTitle:d,initialDescription:s,onApply:o,onCancel:r}):Object(te.jsx)(V.a,{classes:{primary:b.itemTitle},primary:d,primaryTypographyProps:{noWrap:!1},secondary:s}),Object(te.jsx)(F.a,{children:Object(te.jsx)(q.a,{onClick:a,disabled:c||i,children:Object(te.jsx)(J.a,{color:"action",fontSize:"inherit"})})})]})})),de=n(151),se=function(e){var t=e.editorOpened,n=e.disabled,i=e.onNewItemClick,c=e.onEditorApply,a=e.onEditorCancel,o=Object(te.jsx)(L.a,{children:Object(te.jsx)(z.a,{disabled:!0,color:"default",disableRipple:!0,icon:Object(te.jsx)(de.a,{}),checked:!1})});return t?Object(te.jsxs)(K.a,{divider:!0,children:[o,Object(te.jsx)(ce,{initialTitle:"",onApply:c,onCancel:a})]}):Object(te.jsx)(Y.a,{title:"Click to add new TODO item",interactive:!1,enterDelay:2e3,enterNextDelay:2e3,leaveDelay:250,children:Object(te.jsx)(K.a,{button:!0,divider:!0,disabled:n,onClick:i,children:o})})},ue=n(78),je=n(152),be=A,Oe=Object(l.b)((function(e,t){var n=t.itemId;return{disabledEdit:be(e,{id:n})}}))((function(e){var t=e.itemId,n=e.anchorEl,i=e.disabledEdit,c=e.onClickEdit,a=e.onClickRemove,o=e.onClose;return Object(te.jsxs)(ue.a,{id:"item-menu",anchorEl:n,open:Boolean(t&&n),onClose:o,children:[Object(te.jsx)(je.a,{disabled:i,onClick:c,children:"Edit"}),Object(te.jsx)(je.a,{onClick:a,children:"Remove"})]})})),me=E.remove,pe=E.edit,he=E.add,ve=E.clear,fe=x,Ie=y,Ee="NEW_ITEM",Ce=function(e){Object(R.a)(n,e);var t=Object(_.a)(n);function n(){var e;Object(N.a)(this,n);for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];return(e=t.call.apply(t,[this].concat(a))).state={clearing:!1},e.clearing=void 0,e.resetActiveItem=function(){e.setState({menuAnchor:void 0,activeItemId:void 0,activeItemStatus:void 0,clearing:!1})},e.handleNewItemClick=function(){e.setState((function(e){return e.activeItemId?e:{activeItemId:Ee,activeItemStatus:"ADD",clearing:!1}}))},e.handleNewItemApply=function(t,n){(0,e.props.addTodo)(t,n),e.resetActiveItem()},e.handleNewItemCancel=function(){e.resetActiveItem()},e.handleEditorApply=function(t,n,i){(0,e.props.editTodo)(t,n,i),e.resetActiveItem()},e.handleEditorCancel=function(){e.resetActiveItem()},e.handleMoreClick=function(t,n){var i=n.currentTarget;e.setState((function(e){return Object(c.a)(Object(c.a)({},e),{},{menuAnchor:i,activeItemId:t,activeItemStatus:"MENU"})}))},e.handleClickEdit=function(){e.setState((function(e){return e.activeItemId?Object(c.a)(Object(c.a)({},e),{},{activeItemStatus:"EDIT"}):e}))},e.handleClickRemove=function(){e.setState((function(e){return e.activeItemId?Object(c.a)(Object(c.a)({},e),{},{activeItemStatus:"REMOVE_ANIMATION"}):e}))},e.handleClear=function(){e.setState((function(e){return Object(c.a)(Object(c.a)({},e),{},{clearing:!0})}))},e.handleMenuClose=function(){e.resetActiveItem()},e.handleRemoveAnimationDone=function(t){(0,e.props.removeTodo)(t),e.resetActiveItem()},e.handleClearingAnimation=function(t){var n=e.props,i=n.clearTodos,c=n.doneTodoIds;e.clearing||(e.clearing=new Set(c)),e.clearing.delete(t),0===e.clearing.size&&(e.clearing=void 0,i(),e.setState({clearing:!1}))},e}return Object(S.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.todoIds,i=t.doneTodoIds,a=this.state,o=a.activeItemStatus,r=a.activeItemId,l=a.menuAnchor,d=a.clearing,s=d?function(t){return{in:!(d&&i.has(t)),onExited:e.handleClearingAnimation.bind(null,t)}}:function(t){return{in:!(r===t&&"REMOVE_ANIMATION"===o),onExited:e.handleRemoveAnimationDone.bind(null,t)}};return Object(te.jsxs)(te.Fragment,{children:[Object(te.jsxs)(W.a,{children:[n.map((function(t){return Object(te.jsx)(B.a,Object(c.a)(Object(c.a)({enter:!1,appear:!1},s(t)),{},{children:Object(te.jsx)(le,{selected:t===r,edited:t===r&&"EDIT"===o,id:t,onMoreClick:e.handleMoreClick.bind(null,t),onEditorApply:e.handleEditorApply.bind(null,t),onEditorCancel:e.handleEditorCancel})}),t)})),Object(te.jsx)(se,{editorOpened:"NEW_ITEM"===r&&"ADD"===o,disabled:Boolean(d)||Boolean(r&&"NEW_ITEM"!==r),onNewItemClick:this.handleNewItemClick,onEditorApply:this.handleNewItemApply,onEditorCancel:this.handleNewItemCancel})]}),i.size>0&&Object(te.jsx)(G.a,{size:"small",onClick:this.handleClear,children:"Clear"}),Object(te.jsx)(Oe,{itemId:"MENU"===o?r:void 0,anchorEl:l,onClickEdit:this.handleClickEdit,onClickRemove:this.handleClickRemove,onClose:this.handleMenuClose})]})}}]),n}(k.a.Component),xe=Object(l.b)((function(e){return{todoIds:fe(e),doneTodoIds:Ie(e)}}),{removeTodo:me,editTodo:pe,addTodo:he,clearTodos:ve})(Ce),ye=Object(D.a)((function(e){return{container:{marginTop:e.spacing(4)}}})),ge=function(){var e=ye();return Object(te.jsxs)(M.a,{maxWidth:"md",className:e.container,children:[Object(te.jsx)(w.a,{variant:"h4",component:"h1",align:"center",children:"TODO app"}),Object(te.jsx)(xe,{})]})},Ae={key:"root",storage:O.a},Te=Object(j.a)(Ae,C),ke=[{id:"item_"+Object(s.slug)(),title:"Go to doctor",description:"Lorem ipsum dolor sit amet, consectetur adipisicing elit. Et, pariatur, ullam.",done:!1},{id:"item_"+Object(s.slug)(),title:"Buy some food for breakfast",description:"Aliquid at ducimus ipsum quod totam ut vitae voluptatem.",done:!1},{id:"item_"+Object(s.slug)(),title:"Fix the car",description:"Accusamus autem deleniti dolore dolores, expedita illo inventore ipsam, ipsum libero maiores necessitatibus nesciunt non obcaecati optio provident reprehenderit vel, veniam voluptatem.",done:!1},{id:"item_"+Object(s.slug)(),title:"Clean the apartment",done:!1}],De=Object(r.createStore)(Te,{items:ke.reduce((function(e,t){return Object(c.a)(Object(c.a)({},e),{},Object(i.a)({},t.id,t))}),{})},Object(p.composeWithDevTools)()),Me=Object(j.b)(De);o.a.render(Object(te.jsx)(l.a,{store:De,children:Object(te.jsxs)(m.a,{loading:null,persistor:Me,children:[Object(te.jsx)(d.a,{}),Object(te.jsx)(ge,{})]})}),document.getElementById("root"))}},[[104,1,2]]]);
//# sourceMappingURL=main.a1e4c51f.chunk.js.map